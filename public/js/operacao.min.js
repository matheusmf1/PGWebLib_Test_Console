
(()=>{const reloadAuth=()=>{setInterval(()=>{location.reload(true);},3600000);}});

(()=>{const update=setInterval(async()=>{await fetch('/main/console/resultado',{method:'GET',headers:{'Content-Type':'application/json'},mode:'cors'}).then((response)=>{if(response.status===200)
return response.json();}).then((resp)=>{console.log('Result',resp)
if(resp.comprovante){let sectionNode=document.getElementById('comprovante__container');sectionNode.innerHTML="";sectionNode.className='comprovante__container comprovante__container--active'
let ulNode=document.createElement('ul');ulNode.className='comprovante__lista';resp.comprovante.forEach((c)=>{let liNode=document.createElement('li');liNode.classList='comprovante__lista--titulo';liNode.innerHTML=Object.keys(c).toString().replace(/_/g,' ');divNode=document.createElement('div');divNode.classList='comprovante__lista--conteudo';divNode.innerHTML=Object.values(c);liNode.appendChild(divNode);ulNode.appendChild(liNode);});sectionNode.appendChild(ulNode);clearInterval(update);}}).catch((err)=>{console.log('Erro Fetch',err);});},10000);})();

(()=>{const status=setInterval(async()=>{await fetch('/main/console/status',{method:'GET',headers:{'Content-Type':'application/json'}}).then((response)=>{return response.json();}).then((resp)=>{console.log('Status',resp);if(resp.erro){let sectionNode=document.getElementById('comprovante__container');sectionNode.innerHTML="";sectionNode.className='comprovante__container comprovante__container--active'
let ulNode=document.createElement('ul');resp.erro.forEach((c)=>{let liNode=document.createElement('li');liNode.classList='comprovante__lista--titulo';liNode.innerHTML=Object.values(c).toString();ulNode.appendChild(liNode);});sectionNode.appendChild(ulNode);clearInterval(status);}}).catch((err)=>{console.log('Erro Fetch',err);});},10000);})();

(()=>{const validation=setInterval(async()=>{await fetch('/main/console/validacao',{method:'GET',headers:{'Content-Type':'application/json'}}).then((response)=>{return response.json();}).then((resp)=>{console.log('validacao',resp)
if(resp.validacao){let sectionNode=document.getElementById('validacao__container');sectionNode.innerHTML="";sectionNode.className='validacao__container validacao__container--active'
let tableNode=document.createElement('table');tableNode.className='table__container table_container--shadow';let thead=document.createElement('thead');let trTitle=document.createElement('tr');trTitle.className='table__title';const titles=['ID','Validacao'];titles.forEach((title)=>{let thTitle=document.createElement('th');thTitle.className='table__title--border';thTitle.innerHTML=title;trTitle.appendChild(thTitle);});thead.appendChild(trTitle);let tbody=document.createElement('tbody');resp.validacao.forEach((item,index)=>{trContent=document.createElement('tr');trContent.className='table__content';let tdContentID=document.createElement('td');tdContentID.className='table__content--border';let tdContent=document.createElement('td');tdContent.className='table__content--border';tdContentID.innerHTML=index;tdContent.innerHTML=Object.keys(item)+' '+Object.values(item);trContent.appendChild(tdContentID);trContent.appendChild(tdContent);tbody.appendChild(trContent);});tableNode.appendChild(thead);tableNode.appendChild(tbody);sectionNode.appendChild(tableNode);clearInterval(validation);}}).catch((err)=>{console.log('Erro Fetch',err);});},10000);})();